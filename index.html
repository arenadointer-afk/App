<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Minhas Contas</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <link rel="stylesheet" href="style.css">
</head>
<body>

<div id="lock" class="lock">
  <div style="background:white; padding:20px; border-radius:15px; text-align:center; width: 80%; max-width:300px;">
    <h2 style="color:#333; margin-top:0;">ğŸ” Acesso</h2>
    <input type="password" id="pin" inputmode="numeric" placeholder="PIN" style="border:1px solid #ccc; font-size:16px; width:100%; box-sizing:border-box; padding:10px; text-align:center;">
    <br>
    <button onclick="desbloquear()" style="background:#7b2ff7; color:white; width:100%; margin:15px 0 0 0; cursor:pointer; padding:10px; border-radius:8px; border:none; font-weight:bold;">Entrar</button>
  </div>
</div>

<div id="app" style="display:none">

  <div class="topo">
    <div class="perfil">
      <img id="fotoPerfil" src="https://via.placeholder.com/50" alt="Foto">
      <input type="file" id="uploadFoto" hidden accept="image/*">
      <h2 style="margin:0; font-size:18px;">Minhas Contas</h2>
    </div>

    <div id="avisoSwipe" class="aviso">
      <span>ğŸ’¡ Deslize p/ arquivar ou pagar</span>
      <span onclick="fecharAviso()" style="font-weight:bold;">âœ•</span>
    </div>
  </div>

  <div class="filtros">
    <button class="ativo" onclick="setFiltro('todas', this)">Todas</button>
    <button onclick="setFiltro('pendentes', this)">Pendentes</button>
    <button onclick="setFiltro('pagas', this)">Pagas</button>
  </div>

  <div id="lista" class="lista"></div>

  <div class="rodape">
    <button onclick="adicionarConta()">â• Nova</button>
    <button onclick="abrirHistorico()">ğŸ“Š HistÃ³rico</button>
    <button onclick="abrirCalculadora()">ğŸ§® Calc</button>
    <button onclick="abrirOpcoes()">âš™ï¸ OpÃ§Ãµes</button>
  </div>

</div>

<div id="modalCalc" class="modal" style="display:none">
  <div class="modal-conteudo">
    <h3>ğŸ§® Calculadora</h3>
    <input type="text" id="calcDisplay" readonly>
    <div class="calc-grid">
      <button onclick="calcAdd('7')">7</button><button onclick="calcAdd('8')">8</button><button onclick="calcAdd('9')">9</button><button onclick="calcAdd('/')">Ã·</button>
      <button onclick="calcAdd('4')">4</button><button onclick="calcAdd('5')">5</button><button onclick="calcAdd('6')">6</button><button onclick="calcAdd('*')">Ã—</button>
      <button onclick="calcAdd('1')">1</button><button onclick="calcAdd('2')">2</button><button onclick="calcAdd('3')">3</button><button onclick="calcAdd('-')">âˆ’</button>
      <button onclick="calcAdd('0')">0</button><button onclick="calcAdd('.')">.</button><button onclick="calcCalcular()">=</button><button onclick="calcAdd('+')">+</button>
    </div>
    <button onclick="calcLimpar()" style="background:#ef5350; color:white;">ğŸ§¹ Limpar</button>
    <button onclick="fecharCalculadora()" style="background:#9e9e9e; color:white;">âŒ Fechar</button>
  </div>
</div>

<div id="modalOpcoes" class="modal" style="display:none">
  <div class="modal-conteudo">
    <h3>âš™ï¸ ConfiguraÃ§Ãµes</h3>
    <p style="font-size:13px; color:#666; text-align:center;">Salve seus dados ou restaure de um arquivo antigo.</p>
    
    <button onclick="baixarBackup()" style="background:#7b2ff7; color:white; margin-bottom:10px;">ğŸ’¾ Salvar Backup (Baixar)</button>
    
    <button onclick="document.getElementById('inputRestore').click()" style="background:#333; color:white;">ğŸ“‚ Restaurar Backup</button>
    <input type="file" id="inputRestore" hidden onchange="lerArquivoBackup(this)" accept=".json">
    
    <hr style="margin: 15px 0; border: 0; border-top: 1px solid #eee;">
    
    <button onclick="fecharOpcoes()" style="background:#9e9e9e; color:white;">âŒ Fechar</button>
  </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="app.js"></script>
</body>
</html>
